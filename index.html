<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karthik</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
     <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Noto+Sans+Devanagari&family=Noto+Sans+Malayalam&family=Noto+Sans+Sanskrit&display=swap" rel="stylesheet">
     <link rel="icon" type="image/png" href="favicon.png" sizes="32x32" />

</head>
<style>
    * {
        margin: 0;
        padding: 0;
        font-family: 'Press Start 2P';
        color: white;
        word-break: break-word;
        overflow-wrap: break-word;
    }

    body {
        background: black;
        color: #00ff00;
        cursor: none;

    }

    :root {
        --bg: #aaaaaaff;
        --bios-text: #00ff00;
        --lblue: #00cccc;
    }

    .header {
        background-color: var(--lblue);
        width: 100%;
        height: 30px;
        font-size: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .menue {
        width: 100%;
        height: 26px;
        background-color: #252dc4;
        display: flex;
        align-items: center;
        gap: 40px;

    }

    .menue button{
        margin-left: 10px;
        background: none;
        border: 2px solid black;
        color: white;
        font-size: 12px;
        font-family: 'Press Start 2P', cursive;
        cursor: none;
        padding: 4px 8px;
        transition: background-color 0.3s, color 0.3s;
        /* border-radius: 5px; */
        padding: 5px;
    }

    .menue button:hover {
        background-color: var(--bg);
        color: #252dc4;
    }

    .resume:hover,
    .shutdown:hover{
        background-color: var(--bg);
        color: rgb(37, 45, 196);
        padding-top: 4px;
        padding-bottom: 4px;
    }
    #customCursor {
     position: fixed; 
    pointer-events: none; /* So it's not clickable */
    width: 60px;  /* Adjust size as needed */
    height: 60px;
    z-index: 999;
}

#cursorImage {
    width: 100%;
    height: 100%;
    image-rendering: pixelated; 
     transform: translate(-55%, -50%);
}
  /* mystery glow */
    @keyframes mysteryGlow {
    0% { box-shadow: 0 0 10px red; color: red; border-color: red; }
    25% { box-shadow: 0 0 10px orange; color: orange; border-color: orange; }
    50% { box-shadow: 0 0 10px lime; color: lime; border-color: lime; }
    75% { box-shadow: 0 0 10px cyan; color: cyan; border-color: cyan; }
    100% { box-shadow: 0 0 10px magenta; color: magenta; border-color: magenta; }
}
.mystery:hover {
     padding-top: 4px;
        padding-bottom: 4px;
    animation: mysteryGlow 1.5s infinite linear;
}
    .contents {
        background-color: var(--bg);
        padding: 4px;

    }

    .largecontainer {
        width: 100%;
        height: auto;
        background-color: var(--bg);
        border: 2px solid black
    }

    .about h1,
    .skill h1,
    .edu h1,
    .contact h1,
    .project h1 {
        color: black;
        margin-bottom: 10px;
        margin-top: 10px;
    }

    .about,
    .skill,
    .edu,
    .contact,
    .project {
        border: 2px solid black;
    }

    .about p {
        margin-left: 10px;
        line-height: 1.6;
    }


    .skill ul,
    .edu ul,
    .project ul,
    .contact ul {
        margin-left: 25px;
        line-height: 1.6;
        list-style-type: square;
    }
    
    .about-header,
    .skill-header,
    .edu-header,
    .contact-header,
    .project-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-left: 17px;
        margin-bottom: 10px;
    }

    .about-header svg {
        width: 50px;
        height: 50px;
        transition: transform 0.3s ease;
    }

    .about-header h1,
    .about-header svg path,
    .about,
    .skill-header h1,
    .skill-header svg path,
    .skill,
    .edu-header h1,
    .edu-header svg path,
    .edu,
    .contact-header h1,
    .contact-header svg path,
    .contact,
    .project-header h1,
    .project-header svg path,
    .project {
        transition: color 0.5s ease, fill 0.3s ease, background-color 0.3s ease;
    }

    .about:hover,
    .skill:hover,
    .edu:hover,
    .contact:hover,
    .project:hover {
        background-color: black;
    }

    .about:hover .about-header h1,
    .skill:hover .skill-header h1,
    .edu:hover .edu-header h1,
    .contact:hover .contact-header h1,
    .project:hover .project-header h1 {
        color: yellow;
    }

    .about:hover .about-header svg,
    .skill:hover .skill-header svg,
    .edu:hover .edu-header svg,
    .contact:hover .contact-header svg,
    .project:hover .project-header svg {
        fill: yellow;
        transform: translateX(10px);
    }

    .skill-header svg {
        width: 50px;
        height: 50px;
        margin-top: -3px;
        transition: transform 0.3s ease;
    }


    .edu-header svg {
        width: 50px;
        height: 50px;
        margin-top: 10px;
        transition: transform 0.3s ease;
    }

    .contact-header svg {
        width: 50px;
        height: 50px;
        margin-top: -3px;
        transition: transform 0.3s ease;
    }

    .project-header svg {
        width: 50px;
        height: 50px;
        margin-top: -3px;
        transition: transform 0.3s ease;
    }
    /* contach list */
.contact ul {
    display: flex;
     gap: 54px;
    list-style: none;
   
}
.icon {
    transition: transform 0.3s ease;
}

.icon:hover {
    transform: scale(1.3);
}
    .footer {
        background-color: var(--lblue);
        width: 100%;
        height: 42px;
        font-size: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #maincontent {
        display: none;

    }

    #post-content {
        color: #00ff00;
        line-height: 2;
        margin-left: 20px;
        margin-top: 20px;
    }

    .center-button {
        height: 100vh;
        width: 100vw;
        width: auto;
        display: flex;
        justify-content: center;
        align-items: center;

    }

    #start {
        color: #00ff00;
        height: 100px;
        width: 200px;
        background: transparent;
        border-color: #00ff00;
        font-size: larger;
        border-width: 3px;
        cursor: pointer;
        display: none;
        
    }

 #mysteryscreen
   {
   
    display:none;
   position: relative;
   width: 100vw; height: 100vh;
    touch-action: none;
  overscroll-behavior: none;
   }


  .dialogbox_resume,.dialogbox_shutdown
  {
      background-color: #252dc4; 
      border: 2px solid white;
      width: 320px;
       text-align: center;
       box-shadow: 10px 10px 0px black;
        padding: 10px;  
         position: fixed;   
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
         display:none;
  }

/* yes buuton and no button styles */

   .yes,.no{
      padding: 3px 15px;
      border: 2px solid white;
      cursor: pointer;
       background: none;
       margin-top: 16px;
    }
    .yes:hover,.no:hover
    {
        background-color: black;
    }
   /* mystrey screen elements */
.center {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  white-space: nowrap;  
}

canvas{
  background:#000;
  width:100%;
  height:100%;
}
.thanks
{
    background-color: rgba(255, 255, 255, 0); 
    border: 1px solid #00ff00;
    padding: 3px;
    font-weight: bold;
    font-size: larger;
    transition: transform 0.3s ease, color 0.3s ease;
    height: 100px;
    width: 480px;
    
}
.thanks:hover
{
    color: #00ff00;
    transform: scale(1.1);
    
}

/* hiding controls from vedio */
video::-webkit-media-controls-panel {
display: none !important;
opacity: 1 !important;}
#final_bye {
  color: #00ff00;
 font-size: larger;
  line-height: 1.8;
  white-space: pre-wrap; 
}
/* name input sttyles */
#inputbox {
  margin-top: 10px;
  background: black;
  color: #00ff00;
  border: 1px solid #00ff00;
  padding: 6px;
  display: none;
  cursor: text;
}
#inputbox:focus {
  background: black;
  color: #00ff00;
  border: 1px solid #00ff00;
  outline: none;
}

/* mobile view */
@media (max-width: 480px) {
  .footer {
        font-size: 4vw;
    }
.thanks
{
        width: 70vw;
        font-size: 3vw;
}
  .menue button {
    font-size: 10px;
    padding: 3px 5px;
  }
    .about h1,
    .skill h1,
    .edu h1,
    .contact h1,
    .project h1 {
      font-size: x-large;
    }
   #final_bye {
  font-size: 0.85rem;
}

  
}
</style>

<body>
    <!-- custom cursor -->
     <div id="customCursor">
    <img src="stickmanstop.png" id="cursorImage">
      </div>

    <!-- post scrren -->
    <div id="postScreen">
        <div id="post-content"></div>
        <div class="center-button">
            <button id="start">POWER ON</button>
            <div class="desktop" style="color: #00ff00;">BEST VIEWD ON DESKTOP</div>
        </div>
    </div>
    <!-- mystrey scrren -->
    <div id="mysteryscreen">
   <canvas id="snow"></canvas>
       <video id="secretVideo"  style="display:none;">
        <source src="hi.mp4" type="video/mp4">
    </video>

<div class="center">
    <div id="final_bye"></div>
    <input type="text"  id="inputbox">
    <button class="thanks" onclick="textchanging()">THANKS FOR VISITING</button>
    </div>
</div>

    <!-- main screen -->
    <div id="maincontent">
        <div class="header" id="typewriter"></div>
        <div class="menue">
            <button class="resume" onclick="dialog_display_on('r')">Resume</button>
            <button class="shutdown" onclick="dialog_display_on('s')">Shutdown</button>
            <button class="mystery">Mystery</button>
        </div>
        <div class="contents">
            <div class="largecontainer">
                <div class="about">
                    <div class="about-header">
                        <h1>ABOUT ME</h1>
                        <svg fill="black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M10 2h4v4h-4V2zM7 7h10v2h-2v13h-2v-6h-2v6H9V9H7V7zM5 5v2h2V5H5zm0 0H3V3h2v2zm14 0v2h-2V5h2zm0 0V3h2v2h-2z">
                        </svg>

                    </div>
                    <div class="dialogbox_resume">
                        <div class="dialogbox_text">
                            STEAL MY DATA
                        </div>
                        <div class="buttons">
                             <button class="yes" onclick="open_resume()">YES</button>
  <button class="no" onclick="dialog_display_off('r')">NO</button>
                        </div>
                    </div>
                    <div class="dialogbox_shutdown">
                        <div class="dialogbox_text">
                           HASTA LA VISTA
                        </div>
                        <div class="buttons">
                             <button class="yes" onclick="shutdown()">YES</button>
  <button class="no" onclick="dialog_display_off('s')">NO</button>
                        </div>
                    </div>
                    <p>Hoi! I’m Karthik — a human in beta version, currently orbiting Earth while juggling 47 tabs and mild existential confusion.</p><br>
                    <p>As a CSE student, I casually wandered into the dark arts of coding with nothing but vibes, a dream, and the hope Google knows the answer.</p><br><p>My proudest achievement so far: fixing a bug after three hours, only to realize it needed a semicolon.</p><br>
                    <p>Right now, I’ve entered the universe of web development, which mostly consists of googling why my div has a mind of its own, wrestling with CSS that refuses to center anything, and offering semicolons to the coding gods because I forget them like it’s a hobby</p>
                </div>
                <div class="skill">
                    <div class="skill-header">
                        <h1>SKILLS</h1>
                        <svg fill="black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M8 5h2v2H8V5zM6 7h2v2H6V7zM4 9h2v2H4V9zm-2 2h2v2H2v-2zm2 2h2v2H4v-2zm2 2h2v2H6v-2zm2 2h2v2H8v-2zm8-12h-2v2h2V5zm2 2h-2v2h2V7zm2 2h-2v2h2V9zm2 2h-2v2h2v-2zm-2 2h-2v2h2v-2zm-2 2h-2v2h2v-2zm-2 2h-2v2h2v-2z">
                        </svg>
                    </div>
                    <ul>
                        <li>HTML/CSS/JS</li>
                        <li>Python</li>
                        <li>c/c++</li>
                        <li>Flask</li>
                    </ul>
                </div>
                <DIV class="edu">
                    <div class="edu-header">
                        <h1 class="qualififlyingion">EDUCATION</h1>
                        <svg fill="black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M9 2H5v4h4V2zm7 7V7H2v9h2v6h2v-6h2v6h2V9h6zm-5-7h11v14H11v-2h9V4h-9V2z">
                        </svg>

                    </div>
                    <ul>
                        <li>BTECH in Computer Science</li>
                        <p>Adi Shankara Institute of Engineering Technology
                            College in Kalady, Kerala, 2022 – 2026
                    </ul>
                </DIV>

                <div class="project">
                    <div class="project-header">
                        <h1 style=" padding-bottom: 10px;">PROJECTS</h1>
                        <svg fill="black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M12 1h2v8h8v4h-2v-2h-8V5h-2V3h2V1zM8 7V5h2v2H8zM6 9V7h2v2H6zm-2 2V9h2v2H4zm10 8v2h-2v2h-2v-8H2v-4h2v2h8v6h2zm2-2v2h-2v-2h2zm2-2v2h-2v-2h2zm0 0h2v-2h-2v2z">
                        </svg>
                    </div>
                    <ul style="padding-left:10px;">
                        <li>
                            Created a terminal-based C program  <a
                                href="https://github.com/Karthik-EM/Namefinder/blob/master/namefinder.c"
                                style="text-decoration: none; color:#3d43b6e2; ;">"WORD GUESSER"</a> that interacts
                            with users
                            to guess a 4-letter word they think of. The program groups letters into categories and
                            uses user
                            input to narrow down the possibilities.</li><br>
                        <li>Built an assistive tool <a
                                href="https://github.com/TEAM-5-PROJECTS/Vision-assistant"
                                style="text-decoration: none; color:#3d43b6e2; ;">"NETHRA"</a> for the visually impaired by combining object detection (DETR), monocular depth estimation (UniDepthV2), and a vision-language model (Qwen-VL) to
 generate spatially-aware scene descriptions. Developed an accessible web app with TTS and chat support.</li>
                    </ul>
                </div>
                <div class="contact">
                    <div class="contact-header">
                        <h1>CONTACT</h1>
                        <svg fill="black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M2 3H0v18h24V3H2zm20 2v14H2V5h20zM10 7H6v4h4V7zm-6 6h8v4H4v-4zm16-6h-6v2h6V7zm-6 4h6v2h-6v-2zm6 4h-6v2h6v-2z">
                        </svg>
                    </div>
                    <ul>
                        <li>
        <a href="mailto:karthikemmail@gmail.com">
            <img src="email.png" alt="Email" class="icon">
        </a>
    </li>
    <li>
        <a href="https://github.com/Karthik-EM" target="_blank">
            <img src="github.png" alt="GitHub" class="icon">
        </a>
    </li>
    <li>
        <a href="https://www.linkedin.com/in/karthik-e-m-33449a292/" target="_blank">
           <img src="linkedin.png" alt="LinkedIn" class="icon" style="margin-top: 9px;height:45px">
        </a>
    </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer">All bugs are features ;]</div>
    </div>
    <script>
        //testing logics
       //document.getElementById("postScreen").style.display = "none";
       // document.getElementById("maincontent").style.display = "block";
        //testing

        //showing shutdown
        function shutdown_show() {
    setTimeout(() => {
        document.querySelector('.desktop').style.display = 'none';
        document.querySelector('#start').style.display = 'block';
    }, 1500); 
}
window.onload = shutdown_show;
        //type writer function
        const text = "SYSTEM INITIALIZED";
        let i = 0;
        const speed = 75;

        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typewriter").innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, speed);
            }
        }

        //sound effects
       const beat = new Audio('beep.mp3');


        const hoverElements = document.querySelectorAll('.about, .skill, .edu, .contact, .project,.resume,.shutdown,.mystery,.yes,.no,.thanks');

        hoverElements.forEach(element => {
            element.addEventListener('mouseenter', () => {
                beat.currentTime = 0;
                beat.play();

            });
        });

        //post print
const username = localStorage.getItem("username") || "user";

const postlines = [
  `Welcome, ${username}`,
  `CPU Cores Detected: ${navigator.hardwareConcurrency}`,
  `Device Memory: ${navigator.deviceMemory || "Unknown"} GB`,
  `Platform: ${navigator.platform}`,
  "Loading Portfolio Kernel..."
];


        const pbeat = new Audio('postbeep.mp3');
         const startup = new Audio('startup.mp3');
        let postIndex = 0; 
        function showpostlines() {
            if (postIndex < postlines.length) {
                if (i == 0) {
                    document.getElementById("start").style.display = "none";
                }
                pbeat.currentTime = 0;
                pbeat.play();
                document.getElementById("post-content").innerHTML += postlines[postIndex] + "<br>"
                postIndex++;
                setTimeout(showpostlines, 600);
            }
            else {
                //post screen changing logic
                setTimeout(() => {
                    document.getElementById("postScreen").style.display = "none";
                    document.getElementById("maincontent").style.display = "block";
                    startup.currentTime = 0;
                    startup.play();
                    typeWriter();
                }, 1);
            }
        }

        document.querySelector("#start").onclick = showpostlines;
        //shut down
        function shutdown() {
            document.getElementById("typewriter").innerHTML = "";
            document.getElementById("maincontent").style.display = "none";
            document.getElementById("postScreen").style.display = "block";
            document.getElementById("start").style.display = "block";
            document.getElementById("post-content").innerHTML = "";
            document.querySelector(".dialogbox_shutdown").style.display = "none";
            postIndex = 0;
            i = 0;

        }
        //mystery
        function mystery() {
            document.getElementById("maincontent").style.display = "none";
            document.getElementById("mysteryscreen").style.display = "block";
        
        }
        document.querySelector(".mystery").onclick = mystery;
     //cursor avatar changing
        isflying=0
document.addEventListener("dblclick", () => {
    if(isflying==0)
    {
    cursor.src = "flying.gif";
    isflying=1
    }
    else
    {
    cursor.src = "stickmanrun.gif";
    isflying=0
    }

    
});

        //custom mouse pointer follow logic
        const cursor = document.getElementById("cursorImage");  
let idleTimer;
let isMoving = false; // Flag to track state

document.addEventListener("mousemove", function (e) {
    customCursor.style.left = e.clientX + "px";
    customCursor.style.top = e.clientY +"px";

     // If cursor was not moving before → switch to running
    if (!isMoving) {
        if(isflying==0)
    {
        cursor.src = "stickmanrun.gif";
    }
        else
        {
             cursor.src = "flying.gif";
        }
        isMoving = true;
    }
    // Reset idle timer
    clearTimeout(idleTimer);
    idleTimer = setTimeout(function () {
        // Switch to still image after 100ms idle
        if(isflying==0)
    {
        cursor.src = "stickmanstop.png";
    }
    else
    {
         cursor.src = "flying.gif";
    }
        isMoving = false; 
    }, 100);
});
   //resume
        function open_resume()
        {
            document.querySelector(".dialogbox_resume").style.display = "none";
             window.location.href = 'https://drive.google.com/uc?export=download&id=1K0JwopllNkJj_0laJrqLfJfIxSbtpxpj';

        }
// dialog box display
 function dialog_display_on(msg) {
    if(msg=='r')
        {
            document.querySelector(".dialogbox_shutdown").style.display = "none";
            document.querySelector(".dialogbox_resume").style.display = "block";
        }
    else
        {
            document.querySelector(".dialogbox_resume").style.display = "none";
            document.querySelector(".dialogbox_shutdown").style.display = "block";
        }
           
        }
  function dialog_display_off(msg) {
     if(msg=='r')
        {
            document.querySelector(".dialogbox_resume").style.display = "none";
        }
        else{  
            document.querySelector(".dialogbox_shutdown").style.display = "none";
            }
        }

//snow logic
var Snow = {
  el: "#snow", 
  density: 10000, 
  maxHSpeed: 5, 
  minFallSpeed: 2,
  canvas: null,
  ctx: null, 
  particles: [],
  colors: [],
  mp: 1,
  quit: false,
  init(){
    this.canvas = document.querySelector(this.el);
    this.ctx = this.canvas.getContext("2d");
    this.reset();
    requestAnimationFrame(this.render.bind(this));
    window.addEventListener("resize", this.reset.bind(this));
  },
  reset(){
    this.w = window.innerWidth;
    this.h = window.innerHeight;
    this.canvas.width = this.w;
    this.canvas.height = this.h;
    this.particles = [];
    this.mp = Math.ceil(this.w * this.h / this.density);
    for(var i = 0; i < this.mp; i++)
    {
      var size = Math.random()*4+5;
      this.particles.push({
        x: Math.random()*this.w, //x-coordinate
        y: Math.random()*this.h, //y-coordinate
        w: size,
        h: size,
        vy: this.minFallSpeed + Math.random(), //density
        vx:(Math.random()*this.maxHSpeed) - this.maxHSpeed/2,
        fill: "#ffffff",
        s: (Math.random() * 0.2) - 0.1
      });
    }
  },
  
  render(){
    this.ctx.clearRect(0, 0, this.w, this.h);
    this.particles.forEach((p,i) => {
      p.y += p.vy;
      p.x += p.vx;
      this.ctx.fillStyle = p.fill;
      this.ctx.fillRect(p.x, p.y, p.w, p.h);
      if(p.x > this.w+5 || p.x < -5 || p.y > this.h){
        p.x = Math.random()*this.w;
        p.y = -10;
      }
    });
    if(this.quit){
      return;
    }
    requestAnimationFrame(this.render.bind(this));
  },
  destroy(){
    this.quit = true;
  }
  
};

var confetti = Snow.init();
// thanks hange
const thanks_msg = [
            "NANNIYUNDAAA VANNATHIL",
            "CLICK SOME MORE..",
            "ENTHA MADUTHO:)",
            "ORU CLICKUM KUDIYUM",
            "PATICHA:)"
        ];
let index = -1;
let j=0;

function playvedio() {
            const video = document.getElementById("secretVideo");
            video.style.display = "block";   
            video.play();
            // close vedio
            video.addEventListener("ended", function () {
            document.exitFullscreen(); 
            document.getElementById("mysteryscreen").style.display = "none";
            document.getElementById("maincontent").style.display = "block";
            video.style.display = "none";   
            
});
            video.requestFullscreen();

}
//status for  code
code_status=false;
     //thanks text changing
     vedio_state=true;
     function textchanging() {
           
            const button = document.querySelector(".thanks");
            beat.currentTime = 0;
                beat.play();
             
            if(j==0 || j==3 || j==5 ||j==7||j==8 )
        {
             index = (index + 1) % thanks_msg.length;
            button.innerText = thanks_msg[index];
        }
           else{
         
            button.innerText = "KEEP GOING "+j;

           }
        if(j==9 )
        {
            if(vedio_state)
            {

                playvedio();
                vedio_state=false;
                j=8;
            }
            else
            {
                  button.innerText = "up,down,left,right";
                  code_status=true;
                  j=0;
                  
            }
       }
        j++;
        }
//typing beep
 const type_beep = new Audio('type_beep.mp3')
 //text display sequence
 function startFinalSequence() {
  console.log("dha pedicho oru easter egg :https://www.youtube.com/watch?v=dQw4w9WgXcQ");
  document.querySelector(".thanks").style.display = "none";
  document.querySelector("#snow").style.display = "none";

  const text =
    "Hey there..\n\n" +
    "Thanks a ton for hanging out on my site!\n" +
    "Before you go...\n\n" +
    "What should I call you?";

  const el = document.querySelector("#final_bye");
  const inputBox = document.querySelector("#inputbox");

  let index = 0;
  const baseSpeed = 32;

  function playTypeSound() {
    const click = type_beep.cloneNode();
    click.playbackRate = 1.4;
    click.play();
  }

  function typeText() {
    if (index >= text.length) {
      inputBox.style.display = "block";
      return;
    }

    const char = text[index];
    el.textContent += char;

    if (char !== " " && char !== "\n") playTypeSound();

    index++;
    let delay = baseSpeed + Math.random() * 20;
    if (char === "." || char === "\n") delay = 250;

    setTimeout(typeText, delay);
  }

  typeText();
}

//arrow code
const code = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"];
let keys = [];
//key comparison logic
function handleKey(key) {
  keys.push(key);

  // keep only last 4 inputs
  if (keys.length > 4) {
    keys.shift();
  }

  if (keys.toString() === code.toString()) {
    code_status = false;
    startFinalSequence();
  }
}
//desktop arrow events
document.addEventListener("keydown", (e) => {
  handleKey(e.key);
});
//mobile gesture
let startX = 0;
let startY = 0;

document.addEventListener("touchstart", (e) => {
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
});

document.addEventListener("touchend", (e) => {
  let endX = e.changedTouches[0].clientX;
  let endY = e.changedTouches[0].clientY;

  let dx = endX - startX;
  let dy = endY - startY;

  if (Math.abs(dx) > Math.abs(dy)) {
    if (dx > 40) handleKey("ArrowRight");
    else if (dx < -40) handleKey("ArrowLeft");
  } else {
    if (dy > 40) handleKey("ArrowDown");
    else if (dy < -40) handleKey("ArrowUp");
  }
});

//name storing
const input = document.getElementById("inputbox");

input.addEventListener("keydown", function (e) {
  if (e.key === "Enter") {
    localStorage.setItem("username",input.value);
    document.getElementById("mysteryscreen").style.display = "none";
    document.getElementById("maincontent").style.display = "block";
    document.querySelector("#final_bye").style.display="none";
    document.querySelector("#inputbox").style.display="none";
    document.querySelector("#snow").style.display="block";
  }
});


    </script>
</body>

</html>